(this.webpackJsonpkaserv=this.webpackJsonpkaserv||[]).push([[0],{251:function(e,t,a){e.exports=a(425)},337:function(e,t,a){},425:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(53),u=a.n(l),c=a(11),s=a.n(c),o=a(21),i=a(12),m=a(13),p=a(14),h=a(15),d=a(23),f=a(19),E=(a(36),a(442)),v=a(440),b=a(443),g=a(444),O=a(41),j=a(56),C=a(437),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={dataFromOut:a.props.data},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.dataFromOut.module)}}]),t}(n.Component),y=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("p",null,this.props.text)}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={dataFromOut:a.props.printImg,printImg:""},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e="data:image/jpg;base64,"+this.state.dataFromOut.img;this.setState({printImg:e})}},{key:"render",value:function(){return r.a.createElement("p",null,r.a.createElement("img",{src:this.state.printImg,width:700}))}}]),t}(n.Component),w=a(441),S=a(433),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={dataFromOut:a.props.data,data:"...",printData:r.a.createElement(w.a,{active:!0,inverted:!0},r.a.createElement(S.a,{inverted:!0,content:"Loading"}))},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"getData",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var a,n,l,u,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n={id:t},l={method:"post",headers:{"Content-type":"application/json; charset=UTF-8",Accept:"application/json"},body:JSON.stringify(n)},e.next=5,fetch("infoBlock",l);case 5:return u=e.sent,e.next=8,u.json();case 8:return c=e.sent,e.next=11,this.setState({data:c});case 11:for(o=0;o<c.length;o++)"1"===c[o].type?a.push(r.a.createElement(y,{text:c[o].data})):"2"===c[o].type&&a.push(r.a.createElement(x,{printImg:c[o]}));this.setState({printData:a});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData(this.state.dataFromOut.idModule)}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.printData)}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={dataFromOut:a.props.data},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.dataFromOut.module)}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={dataFromOut:a.props.data},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.dataFromOut.module)}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={dataFromOut:a.props.data},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.dataFromOut.module)}}]),t}(n.Component),R=a(150),_=a.n(R),H=a(434),P=a(438),T=(a(337),a(436)),L=a(435),N=a(75),B=a(240),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={dataFromOut:a.props.path,finalUrl:""},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e="statusImage?path="+this.state.dataFromOut,t=encodeURI(e);this.setState({finalUrl:t}),console.log(e)}},{key:"render",value:function(){return r.a.createElement(L.a,{trigger:r.a.createElement(N.a,{name:"picture",size:"huge"}),basic:!0},r.a.createElement(L.a.Content,{image:!0},r.a.createElement(B.a,{centered:!0,size:"huge",src:this.state.finalUrl})))}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={dataFromOut:a.props.imgPath,imagesList:[]},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"createImagesList",value:function(){for(var e=[],t=this.state.dataFromOut.split("$"),a=0;a<t.length-1;a++)e.push(r.a.createElement(U,{path:t[a]}));this.setState({imagesList:e})}},{key:"componentDidMount",value:function(){this.createImagesList()}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.imagesList)}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={operationsTable:"",statusElement:"",testState:"123"},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"createOperations",value:function(e){var t=[],a=e.operation;if(console.log((""!==a)+" \u0440\u0430\u0431\u043e\u0442\u044b"),void 0!==a&&""!==a){var n=a.split("$"),l=n.length-1;t.push(r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Cell,{rowSpan:l},"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b:"),r.a.createElement(T.a.Cell,null,n[0])));for(var u=1;u<l;u++)t.push(r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Cell,null,n[u])));this.setState({operationsTable:t})}}},{key:"createTable",value:function(e){var t=[],a=r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Cell,null,"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0435\u043c\u043e\u043d\u0442\u0430"),r.a.createElement(T.a.Cell,null,e.repairBeginDate));t.push(a);var n=r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Cell,null,"\u0414\u0430\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0440\u0435\u043c\u043e\u043d\u0442\u0430"),r.a.createElement(T.a.Cell,null,e.repairEndDate));t.push(n);var l=r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Cell,null,"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0440\u0435\u043c\u043e\u043d\u0442\u0430"),r.a.createElement(T.a.Cell,null,e.state));t.push(l);var u=r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Cell,null,"\u0424\u0418\u041e"),r.a.createElement(T.a.Cell,null,e.fullName));t.push(u);var c=r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Cell,null,"\u041c\u043e\u0434\u0435\u043b\u044c"),r.a.createElement(T.a.Cell,null,e.modelName));t.push(c);var s=r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Cell,null,"IMEI"),r.a.createElement(T.a.Cell,null,e.IMEI));t.push(s);var o=r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Cell,null,"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u044f"),r.a.createElement(T.a.Cell,null,e.equipment));t.push(o);var i=r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Cell,null,"\u041d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u044c"),r.a.createElement(T.a.Cell,null,e.issue));t.push(i);var m=r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Cell,null,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0435\u043c\u043e\u043d\u0442\u0430"),r.a.createElement(T.a.Cell,null,e.cost));t.push(m);var p=r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Cell,null,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),r.a.createElement(T.a.Cell,null,e.comment));t.push(p),t.push(this.state.operationsTable);var h=r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Cell,null,"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u0440\u0435\u043c\u043e\u043d\u0442\u0430"),r.a.createElement(T.a.Cell,null,r.a.createElement(J,{imgPath:e.images})));t.push(h),this.setState({statusElement:t})}},{key:"componentDidMount",value:function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createOperations(this.props.text);case 2:return e.next=4,this.createTable(this.props.text);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(T.a,{celled:!0,selectable:!0},r.a.createElement(T.a.Body,null,this.state.statusElement))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={printStatus:""},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"getStatusFromServer",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,a,n,l,u,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.name,a=this.props.number,n={surname:t,number:a},console.log(JSON.stringify(n)),l={method:"post",headers:{"Content-type":"application/json; charset=UTF-8",Accept:"application/json"},body:JSON.stringify(n)},!(""!==t&&""!==a||void 0!==t&&void 0!==a)){e.next=16;break}return this.setState({printStatus:r.a.createElement(w.a,{active:!0,inverted:!0},r.a.createElement(S.a,{inverted:!0,content:"Loading"}))}),e.next=9,fetch("status",l);case 9:if(!(u=e.sent).ok){e.next=16;break}return e.next=13,u.json();case 13:c=e.sent,console.log(c),null===c?this.setState({printStatus:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u0444\u0430\u043c\u0438\u043b\u0438\u044f \u0438\u043b\u0438 \u043d\u043e\u043c\u0435\u0440 \u0437\u0430\u044f\u0432\u043a\u0438"}):this.setState({printStatus:r.a.createElement(Y,{text:c})});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getStatusFromServer();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,this.state.printStatus)}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={statusModal:a.props.statusModal,statusContent:""},a.changeState=a.changeState.bind(Object(d.a)(a)),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"changeState",value:function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({statusModal:!1});case 2:return e.next=4,this.props.closeModule();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setState({statusContent:r.a.createElement(A,{name:this.props.name,number:this.props.number})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(L.a,{open:this.state.statusModal,onClose:this.changeState,closeIcon:!0},r.a.createElement(E.a,{icon:"archive",content:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0437\u0430\u044f\u0432\u043a\u0438"}),r.a.createElement(L.a.Content,null,this.state.statusContent)))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={dataFromOut:a.props.data,dataForPrint:"",statusModal:!0,changedComp:""},a.openModal=a.openModal.bind(Object(d.a)(a)),a.closeModule=a.closeModule.bind(Object(d.a)(a)),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"closeModule",value:function(){this.setState({changedComp:""})}},{key:"openModal",value:function(){var e=Object(o.a)(s.a.mark((function e(t,a){var n,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,l=a,u=r.a.createElement(G,{statusModal:this.state.statusModal,closeModule:this.closeModule,name:n,number:l}),e.next=5,this.setState({changedComp:u});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"createTable",value:function(){var e=[],t=this.state.dataFromOut.list;if(console.log(t),console.log(t.length),0!==t.length){for(var a=0;a<t.length;a++){var n=r.a.createElement(T.a.Row,{onClick:this.openModal.bind(this,t[a].fullName,t[a].number)},r.a.createElement(T.a.Cell,null,t[a].ready),r.a.createElement(T.a.Cell,null,t[a].state),r.a.createElement(T.a.Cell,null," "),r.a.createElement(T.a.Cell,null,t[a].number),r.a.createElement(T.a.Cell,null,t[a].repairBeginDate),r.a.createElement(T.a.Cell,null,t[a].location),r.a.createElement(T.a.Cell,null,t[a].modelName),r.a.createElement(T.a.Cell,null,t[a].SN),r.a.createElement(T.a.Cell,null,t[a].IMEI),r.a.createElement(T.a.Cell,null,t[a].cost),r.a.createElement(T.a.Cell,null,t[a].fullName));e.push(n)}this.setState({dataForPrint:e})}}},{key:"componentDidMount",value:function(){this.createTable(),console.log(this.state.dataFromOut)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,{celled:!0,selectable:!0},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Row,null,r.a.createElement(T.a.HeaderCell,null,"\u0413\u043e\u0442\u043e\u0432\u043e \u043a \u0432\u044b\u0434\u0430\u0447\u0435"),r.a.createElement(T.a.HeaderCell,null,"\u0421\u0442\u0430\u0442\u0443\u0441"),r.a.createElement(T.a.HeaderCell,null,"\u0422\u0438\u043f \u0440\u0435\u043c\u043e\u043d\u0442\u0430"),r.a.createElement(T.a.HeaderCell,null,"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u044f\u0432\u043a\u0438"),r.a.createElement(T.a.HeaderCell,null,"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0435\u043c\u043e\u043d\u0442\u0430"),r.a.createElement(T.a.HeaderCell,null,"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"),r.a.createElement(T.a.HeaderCell,null,"\u041c\u043e\u0434\u0435\u043b\u044c"),r.a.createElement(T.a.HeaderCell,null,"\u0421\u0435\u0440\u0438\u0439\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440"),r.a.createElement(T.a.HeaderCell,null,"IMEI"),r.a.createElement(T.a.HeaderCell,null,"\u0421\u0443\u043c\u043c\u0430"),r.a.createElement(T.a.HeaderCell,null,"\u041a\u043b\u0438\u0435\u043d\u0442"))),r.a.createElement(T.a.Body,null,this.state.dataForPrint)),this.state.changedComp)}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).onChange=function(e){return a.setState({date:new Date(e.split("-")[2],e.split("-")[1]-1,e.split("-")[0])})},a.onChangeFirst=function(e){return a.setState({firstDate:new Date(e.split("-")[2],e.split("-")[1]-1,e.split("-")[0])})},a.handleChange=function(e,t){var n=t.value;return a.setState({value:n})},a.state={date:new Date,firstDate:new Date,option:"",array:"",dataForOut:"",printJournal:""},a.getOptions=a.getOptions.bind(Object(d.a)(a)),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"setDate",value:function(){var e=new Date;e.setMonth(e.getMonth()-2),this.setState({firstDate:e})}},{key:"getOptions",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.date.getTime(),a=this.state.firstDate.getTime(),n=void 0===this._thirdElement.props.value?this._thirdElement.props.defaultValue:this._thirdElement.props.value,e.next=5,this.setState({array:[t,a,n]});case 5:return e.next=7,this.sendData();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendData",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({printJournal:r.a.createElement(w.a,{active:!0,inverted:!0},r.a.createElement(S.a,{inverted:!0,content:"Loading"}))}),t={method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"firstDate="+this.state.array[0]+"&secondDate="+this.state.array[1]+"&option="+this.state.array[2]},e.next=4,fetch("statusJournal",t);case 4:if(!(a=e.sent).ok){e.next=12;break}return e.next=8,a.json();case 8:n=e.sent,this.setState({dataForOut:n}),this.setState({printJournal:r.a.createElement(K,{data:this.state.dataForOut})}),console.log(n);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setDate()}},{key:"render",value:function(){var e=this,t=this.state.value;return r.a.createElement(H.a,{onSubmit:this.getOptions},"\u0416\u0443\u0440\u043d\u0430\u043b \u0437\u0430\u044f\u0432\u043e\u043a \u0441",r.a.createElement("p",null,r.a.createElement(_.a,{ref:function(t){return e._firstElement=t},onChange:this.onChangeFirst,date:this.state.firstDate,format:"DD-MM-YYYY",className:"color"})),r.a.createElement("p",null,"\u043f\u043e"),r.a.createElement("p",null,r.a.createElement(_.a,{ref:function(t){return e._secondElement=t},onChange:this.onChange,date:this.state.date,format:"DD-MM-YYYY",className:"color"})),r.a.createElement("p",null,r.a.createElement(C.a,{ref:function(t){return e._thirdElement=t},selection:!0,options:[{key:1,text:"\u0412\u0441\u0435 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434",value:1},{key:2,text:"\u0413\u043e\u0442\u043e\u0432\u043e \u043a \u0432\u044b\u0434\u0430\u0447\u0435",value:2},{key:3,text:"\u041d\u0435 \u0433\u043e\u0442\u043e\u0432\u043e \u043a \u0432\u044b\u0434\u0430\u0447\u0435 (\u0440\u0435\u043c\u043e\u043d\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f)",value:3}],defaultValue:1,onChange:this.handleChange,value:t}),r.a.createElement(P.a,{type:"submit"},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c")),r.a.createElement("p",null,this.state.printJournal))}}]),t}(n.Component),z=(a(215),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={message:""},a.sendPass=a.sendPass.bind(Object(d.a)(a)),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"sendPass",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var n,l,u,c,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._passElement.value,l=this._passCheckElement.value,u=a(216),c=u(n).toUpperCase(),e.next=6,this.sendChange(n,l,c);case 6:o=e.sent,i=r.a.createElement("p",null,o),this.setState({message:i});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendChange",value:function(){var e=Object(o.a)(s.a.mark((function e(t,a,n){var r,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"pass="+n},""===t||""===a||t!==a){e.next=13;break}return e.next=4,fetch("changePass",r);case 4:if(!(l=e.sent).ok){e.next=11;break}return e.next=8,l.json();case 8:return u=e.sent,console.log(u),e.abrupt("return","\u041f\u0430\u0440\u043e\u043b\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d");case 11:e.next=19;break;case 13:if(t===a){e.next=17;break}return e.abrupt("return","\u0412\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442");case 17:if(""!==t||""!==a){e.next=19;break}return e.abrupt("return","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c");case 19:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(H.a,{onSubmit:this.sendPass},r.a.createElement("p",null,r.a.createElement("input",{ref:function(t){return e._passElement=t},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})),r.a.createElement("p",null,r.a.createElement("input",{ref:function(t){return e._passCheckElement=t},placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})),r.a.createElement("p",null,r.a.createElement(P.a,{type:"submit"},"submit")),this.state.message)}}]),t}(n.Component)),V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={statusModal:!0,changedComp:""},a.openModal=a.openModal.bind(Object(d.a)(a)),a.closeModule=a.closeModule.bind(Object(d.a)(a)),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"closeModule",value:function(){this.setState({changedComp:""})}},{key:"openModal",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._firstElement.value,a=this._secondElement.value,n=r.a.createElement(G,{statusModal:this.state.statusModal,closeModule:this.closeModule,name:t,number:a}),e.next=5,this.setState({changedComp:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(H.a,null,r.a.createElement("p",null,r.a.createElement("input",{ref:function(t){return e._firstElement=t},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e"})),r.a.createElement("p",null,r.a.createElement("input",{ref:function(t){return e._secondElement=t},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0437\u0430\u044f\u0432\u043a\u0438"})),r.a.createElement("p",null,r.a.createElement(P.a,{type:"submit",onClick:this.openModal},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c")),this.state.changedComp)}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.state={dataFromOut:a.props.data,menuItem:"",activeItem:"",menuRoute:""},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"createSubMenu",value:function(){for(var e=this.state.dataFromOut,t=[],a=[],n=0;n<e.length;n++)0===n?t.push(r.a.createElement(O.b,{to:"/"+e[n].group1+"/"},r.a.createElement(v.a.Item,{name:e[n].group3,active:this.state.activeItem===e[n].group3,onClick:this.handleItemClick}))):"0"===e[n].idGroup2?t.push(r.a.createElement(O.b,{to:"/"+e[n].group1+"/"+e[n].group3},r.a.createElement(v.a.Item,{name:e[n].group3,active:this.state.activeItem===e[n].group3,onClick:this.handleItemClick}))):n!==e.length-1&&e[n].idGroup2===e[n+1].idGroup2?a.push(r.a.createElement(O.b,{to:"/"+e[n].group1+"/"+e[n].group3},r.a.createElement(C.a.Item,null,e[n].group3))):(a.push(r.a.createElement(O.b,{to:"/"+e[n].group1+"/"+e[n].group3},r.a.createElement(C.a.Item,null,e[n].group3))),t.push(r.a.createElement(C.a,{item:!0,text:e[n].group2},r.a.createElement(C.a.Menu,null,a))),a=[]);this.setState({menuItem:t})}},{key:"createRoute",value:function(){for(var e=this.state.dataFromOut,t=[],a=0;a<e.length;a++)0===a?("~/REM/REM_Zayavka.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/",render:function(e){return r.a.createElement(V,Object.assign({data:n},e))}}))}(),"~/Spr/SprInetCatalog.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/",render:function(e){return r.a.createElement(k,Object.assign({data:n},e))}}))}(),"~/ART/ART_FormaElementaInfBlock.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/",render:function(e){return r.a.createElement(M,Object.assign({data:n},e))}}))}(),"~/Spr/ProducerNom/SprProducerNom.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/",render:function(e){return r.a.createElement(D,Object.assign({data:n},e))}}))}(),"~/KasFileBrowser/KasFileBrowser.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/",render:function(e){return r.a.createElement(F,Object.assign({data:n},e))}}))}(),"~/HLP/HLP_FormaSpiskaInfBlock.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/",render:function(e){return r.a.createElement(I,Object.assign({data:n},e))}}))}(),"~/REM/REM_GurZForDialer.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/",render:function(e){return r.a.createElement(Z,Object.assign({data:n},e))}}))}(),"~/ChangePassword.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/",render:function(e){return r.a.createElement(z,Object.assign({data:n},e))}}))}()):("~/REM/REM_Zayavka.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/"+e[a].group3,render:function(e){return r.a.createElement(V,Object.assign({data:n},e))}}))}(),"~/Spr/SprInetCatalog.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/"+e[a].group3,render:function(e){return r.a.createElement(k,Object.assign({data:n},e))}}))}(),"~/ART/ART_FormaElementaInfBlock.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/"+e[a].group3,render:function(e){return r.a.createElement(M,Object.assign({data:n},e))}}))}(),"~/Spr/ProducerNom/SprProducerNom.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/"+e[a].group3,render:function(e){return r.a.createElement(D,Object.assign({data:n},e))}}))}(),"~/KasFileBrowser/KasFileBrowser.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/"+e[a].group3,render:function(e){return r.a.createElement(F,Object.assign({data:n},e))}}))}(),"~/HLP/HLP_FormaSpiskaInfBlock.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/"+e[a].group3,render:function(e){return r.a.createElement(I,Object.assign({data:n},e))}}))}(),"~/REM/REM_GurZForDialer.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/"+e[a].group3,render:function(e){return r.a.createElement(Z,Object.assign({data:n},e))}}))}(),"~/ChangePassword.aspx"===e[a].module&&function(){var n=e[a];t.push(r.a.createElement(j.a,{exact:!0,path:"/"+e[a].group1+"/"+e[a].group3,render:function(e){return r.a.createElement(z,Object.assign({data:n},e))}}))}());this.setState({menuRoute:t})}},{key:"componentDidMount",value:function(){this.createSubMenu(),this.createRoute()}},{key:"render",value:function(){return r.a.createElement(O.a,null,r.a.createElement(b.a,null,r.a.createElement(b.a.Column,{width:4},r.a.createElement(v.a,{fluid:!0,vertical:!0,tabular:!0},this.state.menuItem)),r.a.createElement(b.a.Column,{stretched:!0,width:12},r.a.createElement(g.a,{style:{overflow:"auto",minHeight:490}},this.state.menuRoute))))}}]),t}(n.Component);function q(){return(q=Object(o.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/menu",e.next=3,fetch("/menu");case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:return n=e.sent,e.next=10,n.list;case 10:t=e.sent;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=function(){return q.apply(this,arguments)},W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={content:"",subContent:""},a.getLogin=a.getLogin.bind(Object(d.a)(a)),a.logOut=a.logOut.bind(Object(d.a)(a)),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"getLogin",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var n,l,u,c,o,i,m,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._loginElement.value,l=this._passElement.value,u=a(216),c=u(l).toUpperCase(),o={method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"log="+n+"&pass="+c},""===n||""===l){e.next=15;break}return e.next=8,fetch("login",o);case 8:if(!(i=e.sent).ok){e.next=15;break}return e.next=12,i.json();case 12:m=e.sent,"guest"===(p=m.role)?this.setState({subContent:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c."}):"diler"===p&&(this.setState({subContent:""}),this.setState({content:r.a.createElement(P.a,{active:this.props.updateRole(),onClick:this.logOut},"\u0412\u044b\u0439\u0442\u0438")}));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,a,n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("logOut");case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:a=e.sent,"guest"===a.role&&this.setState({content:r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("input",{ref:function(e){return n._loginElement=e},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"})),r.a.createElement("p",null,r.a.createElement("input",{ref:function(e){return n._passElement=e},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})),r.a.createElement("p",null,r.a.createElement(P.a,{active:this.props.updateRole(),type:"submit"},"submit")))});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,a,n,l=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("checkLogin");case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:a=e.sent,"guest"===(n=a.role)?this.setState({content:r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("input",{ref:function(e){return l._loginElement=e},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"})),r.a.createElement("p",null,r.a.createElement("input",{ref:function(e){return l._passElement=e},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})),r.a.createElement("p",null,r.a.createElement(P.a,{type:"submit"},"submit")))}):"diler"===n&&this.setState({content:r.a.createElement(P.a,{onClick:this.logOut},"\u0412\u044b\u0439\u0442\u0438")});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(L.a,{trigger:r.a.createElement(P.a,{icon:"sign-in"},"\u0412\u0445\u043e\u0434"),closeIcon:!0},r.a.createElement(E.a,{icon:"sign-in",content:"\u0412\u0445\u043e\u0434"}),r.a.createElement(L.a.Content,null,r.a.createElement(H.a,{onSubmit:this.getLogin},this.state.content),r.a.createElement("p",null,this.state.subContent)))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.state={dynamicMenu:"\u2026",menuElementRoute:"\u2026",outerData:"",menuHeader:"",role:"guest"},a.changeRole=a.changeRole.bind(Object(d.a)(a)),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"getData",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:t=e.sent,this.setState({outerData:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMenu",value:function(){var e=this.state.outerData,t=[],a=this.state.activeItem;this.setState({menuHeader:r.a.createElement(O.b,{to:"/"},r.a.createElement(E.a,{as:"h3",block:!0},"\u041a\u0410 \u0441\u0435\u0440\u0432\u0438\u0441"))});for(var n=0;n<e.length;n++)0!==n&&e[n].group1===e[n-1].group1||t.push(r.a.createElement(O.b,{to:"/"+e[n].group1},r.a.createElement(v.a.Item,{name:e[n].group1,active:a===e[n].group1,onClick:this.handleItemClick},e[n].group1)));t.push(r.a.createElement(v.a.Item,{position:"right"},r.a.createElement(W,{updateRole:this.changeRole}))),this.setState({dynamicMenu:t})}},{key:"changeRole",value:function(){var e=this;this.setState({role:"diler"}),this.getData().then((function(t){return e.createComponents()}))}},{key:"getMenuComponent",value:function(){var e=this.state.outerData,t=[],a=[],n={idModule:"11"};t.push(r.a.createElement(j.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(b.a.Column,{stretched:!0,width:12},r.a.createElement(g.a,null,r.a.createElement(M,Object.assign({data:n},e))))}}));for(var l=0;l<e.length;l++)l!==e.length-1&&e[l].group1!==e[l+1].group1||l===e.length-1?function(){a.push(e[l]);var n=a;t.push(r.a.createElement(j.a,{path:"/"+e[l].group1,render:function(e){return r.a.createElement($,Object.assign({data:n},e))}})),a=[]}():a.push(e[l]);this.setState({menuElementRoute:t})}},{key:"createComponents",value:function(){this.getMenu(),this.getMenuComponent()}},{key:"componentDidMount",value:function(){var e=this;this.getData().then((function(t){return e.createComponents()}))}},{key:"render",value:function(){return r.a.createElement(O.a,null,this.state.menuHeader,r.a.createElement(v.a,null,this.state.dynamicMenu),r.a.createElement("div",{id:"content"},this.state.menuElementRoute))}}]),t}(n.Component);u.a.render(r.a.createElement(X,null),document.getElementById("root"))}},[[251,1,2]]]);
//# sourceMappingURL=main.a8c37716.chunk.js.map